import{_ as s,o as n,c as a,a as o}from"./app.57a3dbd1.js";const l="/assets/siwa-design.5784da0f.png",p="/assets/siwa-api-diff.77f2d45a.png",d=JSON.parse('{"title":"sonic-ios-webkit-adapter","description":"","frontmatter":{"contributors":["aoliaoaoaojiao","ZhouYixun"]},"headers":[{"level":2,"title":"æœ¬ä»“åº“è´¡çŒ®è€…","slug":"æœ¬ä»“åº“è´¡çŒ®è€…","link":"#æœ¬ä»“åº“è´¡çŒ®è€…","children":[]},{"level":2,"title":"ä»‹ç»","slug":"ä»‹ç»","link":"#ä»‹ç»","children":[]},{"level":2,"title":"å¿«é€Ÿä½¿ç”¨","slug":"å¿«é€Ÿä½¿ç”¨","link":"#å¿«é€Ÿä½¿ç”¨","children":[]},{"level":2,"title":"iOS web æµ‹è¯•åŸºç¡€åŸç†æµ…è°ˆ","slug":"ios-web-æµ‹è¯•åŸºç¡€åŸç†æµ…è°ˆ","link":"#ios-web-æµ‹è¯•åŸºç¡€åŸç†æµ…è°ˆ","children":[]},{"level":2,"title":"å¦‚ä½•å¼€å¯ iOS web debug æœåŠ¡ï¼Ÿ","slug":"å¦‚ä½•å¼€å¯-ios-web-debug-æœåŠ¡","link":"#å¦‚ä½•å¼€å¯-ios-web-debug-æœåŠ¡","children":[]},{"level":2,"title":"åè®®å…¼å®¹","slug":"åè®®å…¼å®¹","link":"#åè®®å…¼å®¹","children":[{"level":3,"title":"æ¡ˆä¾‹","slug":"æ¡ˆä¾‹","link":"#æ¡ˆä¾‹","children":[]},{"level":3,"title":"å¤§ä½“è®¾è®¡","slug":"å¤§ä½“è®¾è®¡","link":"#å¤§ä½“è®¾è®¡","children":[]},{"level":3,"title":"ä¸åŒè°ƒè¯•åè®®ä¹‹é—´çš„API å·®å¼‚ æ¦‚è§ˆ","slug":"ä¸åŒè°ƒè¯•åè®®ä¹‹é—´çš„api-å·®å¼‚-æ¦‚è§ˆ","link":"#ä¸åŒè°ƒè¯•åè®®ä¹‹é—´çš„api-å·®å¼‚-æ¦‚è§ˆ","children":[]}]}],"relativePath":"siwa/re-siwa.md","lastUpdated":1716537034000}'),e={name:"siwa/re-siwa.md"},t=o(`<h1 id="sonic-ios-webkit-adapter" tabindex="-1">sonic-ios-webkit-adapter <a class="header-anchor" href="#sonic-ios-webkit-adapter" aria-hidden="true">#</a></h1><p>æœ¬æ–‡ä¸ºç”¨äºè°·æ­Œæµè§ˆå™¨è°ƒè¯•çš„ webkit åè®®æ¥æ”¶å™¨ sonic-ios-webkit-adapter çš„ä»‹ç»ä¸åŸç†ç®€è¿°ã€‚ ğŸ‘‰<a href="https://github.com/SonicCloudOrg/sonic-ios-webkit-adapter" target="_blank" rel="noreferrer">Github åœ°å€</a></p><div style="display:flex;"><img src="https://img.shields.io/github/stars/SonicCloudOrg/sonic-ios-webkit-adapter?style=social"><img style="margin-left:10px;" src="https://img.shields.io/github/forks/SonicCloudOrg/sonic-ios-webkit-adapter?style=social"></div><h2 id="æœ¬ä»“åº“è´¡çŒ®è€…" tabindex="-1">æœ¬ä»“åº“è´¡çŒ®è€… <a class="header-anchor" href="#æœ¬ä»“åº“è´¡çŒ®è€…" aria-hidden="true">#</a></h2><a href="https://github.com/SonicCloudOrg/sonic-ios-webkit-adapter/graphs/contributors"><img src="https://contrib.rocks/image?repo=SonicCloudOrg/sonic-ios-webkit-adapter"></a><h2 id="ä»‹ç»" tabindex="-1">ä»‹ç» <a class="header-anchor" href="#ä»‹ç»" aria-hidden="true">#</a></h2><p><strong>sonic-ios-webkit-adapter</strong> ç”¨ä½œ iOS H5 è‡ªåŠ¨åŒ–çš„åº•å±‚æ¡†æ¶ï¼Œå¦‚ auto touchã€æ€§èƒ½é‡‡é›†ç­‰ï¼Œ ä»¥åŠæä¾›ç»™å‰ç«¯ä¸€ä¸ªå¼€æºæ˜“ç”¨çš„ iOS webdebug toolï¼Œè€Œå¦‚æœä¸ä½¿ç”¨ adapterï¼Œåˆ™æ˜¯æš´éœ²åŸç”Ÿçš„ iOS webkit ws æœåŠ¡ï¼Œ å¯ä»¥é€šè¿‡ iOS webkit debug tool å·¥å…·è¿›è¡Œè°ƒè¯•ï¼ˆå‚è€ƒï¼š <a href="https://github.com/p0358/webkit-webinspector" target="_blank" rel="noreferrer">webkit-webinspector</a> ï¼‰ï¼Œåœ¨åç»­ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šå¯¹ devtool è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå®Œå–„ sonic çš„ H5 è‡ªåŠ¨åŒ–å‰ç«¯ã€‚</p><h2 id="å¿«é€Ÿä½¿ç”¨" tabindex="-1">å¿«é€Ÿä½¿ç”¨ <a class="header-anchor" href="#å¿«é€Ÿä½¿ç”¨" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">github.com/SonicCloudOrg/sonic-ios-webkit-adapter</span></span>
<span class="line"></span></code></pre></div><h2 id="ios-web-æµ‹è¯•åŸºç¡€åŸç†æµ…è°ˆ" tabindex="-1">iOS web æµ‹è¯•åŸºç¡€åŸç†æµ…è°ˆ <a class="header-anchor" href="#ios-web-æµ‹è¯•åŸºç¡€åŸç†æµ…è°ˆ" aria-hidden="true">#</a></h2><p>å½“å‰çš„ä¸»æµ H5 è°ƒè¯•ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºæµè§ˆå™¨å¼€æ”¾çš„ debug ws æœåŠ¡æ¥è¿›è¡Œçš„ã€‚æˆ‘ä»¬é€šè¿‡è¿æ¥è¿™äº› wsï¼Œç„¶åå‘é€å¯¹åº”çš„åè®®è¿‡å»ï¼Œå³å¯è¾¾åˆ° debug çš„ç›®çš„ï¼Œä¾‹å¦‚ iOS è·å– elementsï¼Œåˆ™éœ€è¦æŒ‰ç…§åè®®é€šè¿‡ ws å‘é€ getDocument æ–¹æ³•åˆ° webkit é‡Œé¢ï¼Œç­‰å¾… ws server è¿”å›å¯¹åº”çš„ element ä¿¡æ¯ã€‚iOS çš„ webkit protocol è¯¦ç»†å¯å‚è€ƒï¼š<a href="https://github.com/WebKit/webkit/tree/main/Source/JavaScriptCore/inspector/protocol" target="_blank" rel="noreferrer">WebKit/Source/JavaScriptCore/inspector/protocol at main Â· WebKit/WebKit Â· GitHub</a> ï¼Œé‡Œé¢é€šè¿‡åˆ’åˆ†åŸŸçš„å½¢å¼ï¼Œå·²ç»å°†åè®®åˆ†ä¸ºä¸»è¦çš„ 20-30 ä¸ªæ–‡ä»¶ã€‚</p><h2 id="å¦‚ä½•å¼€å¯-ios-web-debug-æœåŠ¡" tabindex="-1">å¦‚ä½•å¼€å¯ iOS web debug æœåŠ¡ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•å¼€å¯-ios-web-debug-æœåŠ¡" aria-hidden="true">#</a></h2><p>ä¸åŒäºå®‰å“åªéœ€è¦ç®€å•çš„å»å¼€å‘è€…æ¨¡å¼é‡Œå¼€å¯ webview çš„ debug æ¨¡å¼ï¼ŒiOS ç”±äºå…¶å°é—­æ€§ï¼Œå¼€å¯ web debug éå¸¸éº»çƒ¦ã€‚æˆ‘ä»¬éœ€è¦å‘é€ç›¸å…³çš„ DTX åè®®ç»™ iOS å†…ç½®çš„ com.apple.webinspectorï¼ˆå‚è€ƒ:<a href="https://github.com/SonicCloudOrg/sonic-gidevice/blob/main/webinspector.go" target="_blank" rel="noreferrer">sonic-gidevice/webinspector.go at main Â· SonicCloudOrg/sonic-gidevice Â· GitHub</a> ã€<a href="https://github.com/SonicCloudOrg/sonic-ios-bridge/tree/main/src/webinspector" target="_blank" rel="noreferrer">sonic-ios-bridge/src/webinspector at main Â· SonicCloudOrg/sonic-ios-bridge Â· GitHub</a> ï¼‰ã€‚</p><p>å¤§ä½“æµç¨‹å¦‚ä¸‹ï¼šé€šè¿‡ gidevice å¯åŠ¨ç›¸å…³çš„ webinspector server æ–¹æ³•ï¼Œéšå DTX å‘é€å¯¹åº”çš„<strong>connect id</strong>åˆ° webinspectorï¼Œ</p><p>è¿™æ—¶å€™ä¼šè¿”å›å¯¹åº”çš„ DTX ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¼šæ ¹æ® DTX ä¿¡æ¯çš„ case æ ‡å¿—(Selector å‚æ•°)è¿›è¡Œ webinspector client çš„åˆå§‹åŒ–å¤„ç†ã€‚</p><p>è¯¥è¿‡ç¨‹ä¸­ä¼šå¾—åˆ°å½“å‰è®¾å¤‡ä¸­çš„ webkit<strong>åº”ç”¨ pid å’Œ base page ä¿¡æ¯</strong>ï¼ˆæ ¹æ®ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼Œå¦‚æœ iOS çš„åº”ç”¨æœ‰ developer è¯ä¹¦ï¼Œåˆ™å¯ä»¥å¼€å¯ H5 è°ƒè¯•ï¼Œåç»­å¼€å‘ç»´æŠ¤æ—¶ä¼šè¿›è¡ŒéªŒè¯å…¶çœŸå®æ€§ï¼‰ã€‚æ ¹æ®è¿™äº› pid å’Œ page ä¿¡æ¯ï¼Œå½“éœ€è¦å¯¹æŸä¸ª webkit åº”ç”¨è¿›è¡Œ web debug æ—¶ï¼Œåˆ›å»ºä¸€ä¸ª<strong>senderid</strong>ï¼Œå¹¶å°†å…¶å‘é€åˆ° webinspector ä¸­ï¼Œ<strong>è®© webkit å¼€å¯ debug æœåŠ¡</strong>ï¼Œæˆ‘ä»¬åªéœ€è¦å‘é€ç›¸å…³çš„åè®®ä¿¡æ¯å°±è¡Œã€‚</p><h2 id="åè®®å…¼å®¹" tabindex="-1">åè®®å…¼å®¹ <a class="header-anchor" href="#åè®®å…¼å®¹" aria-hidden="true">#</a></h2><p>è™½ç„¶ iOS çš„ webkit inspector æ˜¯å‘å±•æœ€æ—©çš„ä¸€ä¸ªç½‘é¡µè°ƒè¯•å™¨ï¼Œä½†æ˜¯ç”±äº iOS çš„å°é—­æ€§å’Œå…¶ä»–çš„ä¸€äº›å› ç´ ï¼Œåç»­çš„å…¶ä»–å†…æ ¸çš„æµè§ˆå™¨è°ƒè¯•å¹¶æ²¡æœ‰ä½¿ç”¨ iOS çš„ webkit è°ƒè¯•åè®®ï¼ŒåŸºäºæ˜“ç”¨æ€§è€ƒè™‘ï¼Œsonic å‚è€ƒ<a href="https://github.com/google/ios-webkit-debug-proxy" target="_blank" rel="noreferrer">google/ios-webkit-debug-proxy</a> ã€<a href="https://github.com/RemoteDebug/remotedebug-ios-webkit-adapter" target="_blank" rel="noreferrer">RemoteDebug/remotedebug-ios-webkit-adapter</a> è¿™ä¸¤ä¸ªé¡¹ç›®ï¼Œç”¨ golang é‡å†™äº†ä¸€éï¼Œåªéœ€è¦ä½¿ç”¨ sib çš„ webinspector adapter æ¨¡å¼ï¼Œå³å¯é€šè¿‡ chrome devtool ç®€å•è°ƒè¯• iOS çš„ safariã€‚æ ¸å¿ƒæ€è·¯æ˜¯ sib å°†å‘é€åè®®ä¿¡æ¯è¿™ä¸ªå…³é”®æ­¥éª¤åšæˆ ws æœåŠ¡ï¼Œé‡‡ç”¨åŒå‘ä»£ç†çš„æ¨¡å¼ï¼Œé€šè¿‡<a href="https://github.com/SonicCloudOrg/sonic-ios-webkit-adapter" target="_blank" rel="noreferrer">SonicCloudOrg/sonic-ios-webkit-adapter</a> <strong>æ‹¦æˆª iOS webkit è°ƒè¯•åè®®å’Œ Chrome DevTools Protocol åè®®ä¹‹é—´çš„ç‰¹å¼‚æ–¹æ³•ï¼Œå°†å…¶è½¬æ¢æˆåŒæ–¹å¯æ¥å—çš„è°ƒè¯•åè®®å’Œè¿”å›ç»“æœ</strong>ã€‚</p><h3 id="æ¡ˆä¾‹" tabindex="-1">æ¡ˆä¾‹ <a class="header-anchor" href="#æ¡ˆä¾‹" aria-hidden="true">#</a></h3><p>å¦‚æœæˆ‘ä»¬éœ€è¦è·å–å½“å‰é¡µé¢ä¸‹å¯¼èˆªæ ä¸­çš„å†å²ä¿¡æ¯æ—¶ï¼ŒChrome DevTools Protocol çš„åšæ³•æ˜¯ ws é‡Œå‘é€ Page åŸŸä¸­çš„ getNavigationHistory æ–¹æ³•åˆ°å½“å‰è°ƒè¯•çš„åº”ç”¨ä¸­ï¼Œç­‰å¾…è¿”å›çš„ç»“æœå°±è¡Œã€‚æ¯”è¾ƒå¯æƒœçš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ç›´æ¥å‘é€åˆ° iOS webkit ä¸­ï¼ŒiOS webkit ä¼šè¿”å›ä¿¡æ¯å‘ŠçŸ¥å¹¶æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œä¸è¿‡ iOS webkit å¯ä»¥é€šè¿‡æ›²çº¿æ•‘å›½çš„æ–¹å¼è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆçœ‹ Chrome DevTools Protocol ä¸­ getNavigationHistory çš„è¿”å›ä¿¡æ¯æ˜¯ä»€ä¹ˆï¼ˆå‚è€ƒï¼š<a href="https://github.com/ChromeDevTools/devtools-protocol/blob/master/json/browser_protocol.json" target="_blank" rel="noreferrer">Chrome Devtools Protocol</a> ï¼‰</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">TransitionType</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Transition type.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">enum</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">link</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">typed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">address_bar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">auto_bookmark</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">auto_subframe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">manual_subframe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">generated</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">auto_toplevel</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">form_submit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">reload</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">keyword</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">keyword_generated</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#C3E88D;">other</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">getNavigationHistory</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Returns navigation history for the current page.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">returns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">currentIndex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Index of the current navigation history entry.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">integer</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            },</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">entries</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Array of navigation history entries.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">array</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">items</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: {</span></span>
<span class="line"><span style="color:#89DDFF;">                    &quot;</span><span style="color:#A6ACCD;">$ref</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">NavigationEntry</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">                }</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">NavigationEntry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Navigation history entry.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#C3E88D;">properties</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Unique id of the navigation history entry.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">integer</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            },</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">URL of the navigation history entry.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            },</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">userTypedURL</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">URL that the user typed in the url bar.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            },</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Title of the navigation history entry.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            },</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">transitionType</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Transition type.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">                &quot;</span><span style="color:#A6ACCD;">$ref</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">TransitionType</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ç”±è¿”å›ç»“æ„å¯çŸ¥ï¼Œæœ€é‡è¦çš„æ˜¯ url å’Œ titileï¼ˆå…¶ä»–ä¿¡æ¯å¯è‡ªå®šä¹‰ç”Ÿæˆï¼‰ï¼Œæ‰€ä»¥æ€è·¯å¯ä»¥è¿™æ ·ï¼š</p><p>é€šè¿‡ä¸­é—´å±‚æ‹¦æˆªåˆ°è¿™ä¸ªç‰¹å¼‚æ€§çš„æ–¹æ³•ï¼Œç„¶åå°†è¿™ä¸ªæ–¹æ³•æ›¿æ¢æˆ iOS webkit protocol ä¸‹ Runtime åŸŸçš„ evaluate æ–¹æ³•ï¼ˆevaluate æ–¹æ³•çš„ä½¿ç”¨è¯´æ˜å‚è€ƒï¼š<a href="https://github.com/WebKit/WebKit/blob/main/Source/JavaScriptCore/inspector/protocol/Runtime.json" target="_blank" rel="noreferrer">iOS webkit protocol Runtime</a>ï¼‰ï¼Œå‘é€ window.location.hrefï¼Œè·å–å…¨å±€ windows å¯¹è±¡ä¸‹çš„ location.href ç»“æœï¼Œç„¶åå†æ¬¡ä½¿ç”¨ Runtime åŸŸ evaluate æ–¹æ³•ï¼Œå‘é€ window.titleï¼Œè·å–å…¨å±€ windows å¯¹è±¡ä¸‹çš„ title ç»“æœï¼Œç„¶åæŒ‰ç…§ getNavigationHistory çš„è¿”å›ç»“æ„ç»„åˆè·å–åˆ°çš„è¿™äº›ä¿¡æ¯ï¼Œå†è¿”å›åˆ° devtool ä¸­ã€‚</p><h3 id="å¤§ä½“è®¾è®¡" tabindex="-1">å¤§ä½“è®¾è®¡ <a class="header-anchor" href="#å¤§ä½“è®¾è®¡" aria-hidden="true">#</a></h3><p><img src="`+l+'" alt="siwa-design"></p><h3 id="ä¸åŒè°ƒè¯•åè®®ä¹‹é—´çš„api-å·®å¼‚-æ¦‚è§ˆ" tabindex="-1">ä¸åŒè°ƒè¯•åè®®ä¹‹é—´çš„<a href="http://compatibility.remotedebug.org/" target="_blank" rel="noreferrer">API å·®å¼‚</a> æ¦‚è§ˆ <a class="header-anchor" href="#ä¸åŒè°ƒè¯•åè®®ä¹‹é—´çš„api-å·®å¼‚-æ¦‚è§ˆ" aria-hidden="true">#</a></h3><p><img src="'+p+'" alt="siwa-api-diff"></p>',27),r=[t];function c(D,i,y,F,C,u){return n(),a("div",null,r)}const b=s(e,[["render",c]]);export{d as __pageData,b as default};
