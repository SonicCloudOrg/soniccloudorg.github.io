<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>custom script | Sonic - Open source cloud virtual machine platform</title>
    <meta name="description" content="For You, For Free, Forever. 免费开源的云真机平台，用心打造更好的使用体验。 Made with 🧡 by SonicCloudOrg.">
    <link rel="preload stylesheet" href="/assets/style.86882034.css" as="style">
    <link rel="modulepreload" href="/assets/chunks/VPAlgoliaSearchBox.ab44aca5.js">
    <link rel="modulepreload" href="/assets/app.d9b4a184.js">
    <link rel="modulepreload" href="/assets/en_doc_doc-script.md.1e8a1dfe.lean.js">
    
    <link rel="icon" href="https://raw.githubusercontent.com/SonicCloudOrg/soniccloudorg.github.io/main/.vitepress/theme/assets/public/favicon.ico">
  <meta name="baidu-site-verification" content="code-tUj7cN37g6">
  <meta name="google-site-verification" content="HwNpVEj6BjJmFVXELaQntnPP3OLpAfvnt_fyVmi3dUo">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="expires" content="0">
  <meta name="keywords" content="Sonic,云真机,Sonic云真机,Sonic云测,Sonic平台,Sonic测试">
  <script>(function(t,s,n,h,j,e){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:2962395,hjsv:6},j=s.getElementsByTagName("head")[0],e=s.createElement("script"),e.async=1,e.src=n+t._hjSettings.hjid+h+t._hjSettings.hjsv,j.appendChild(e)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=");</script>
  <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?1e96d2d989cfa5aae34ddc9c5d4a7bdf";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
  <script>(function(){const t={"/home":"/","/deploy":"/deploy/back-end-deploy.html","/deploy?tag=back-end":"/deploy/back-end-deploy.html","/deploy?tag=agent":"/deploy/agent-deploy.html","/deploy?tag=upgrade":"/deploy/upgrade-deploy.html","/deploy?tag=android":"/deploy/android-deploy.html","/deploy?tag=ios":"/deploy/ios-deploy.html","/document":"/doc/doc-use.html","/document?tag=use":"/doc/doc-use.html","/document?tag=high":"/doc/doc-high.html","/document?tag=agent-center":"/doc/doc-agent.html","/document?tag=device":"/doc/doc-device.html","/document?tag=control":"/doc/doc-control.html","/document?tag=app-list":"/doc/doc-app-list.html","/document?tag=webview":"/doc/doc-webview.html","/document?tag=quick-cap":"/doc/doc-quick-cap.html","/document?tag=terminal":"/doc/doc-terminal.html","/document?tag=proxy":"/doc/doc-proxy.html","/document?tag=element":"/doc/doc-element.html","/document?tag=run":"/doc/doc-run.html","/document?tag=runScript":"/doc/doc-script.html","/document?tag=poco":"/doc/doc-poco.html","/document?tag=toWebView":"/doc/doc-to-webview.html","/document?tag=keyboard":"/doc/doc-keyboard.html","/document?tag=element-manage":"/doc/doc-element-manage.html","/document?tag=cases":"/doc/doc-cases.html","/document?tag=steps":"/doc/doc-steps.html","/document?tag=pub":"/doc/doc-pub.html","/document?tag=global":"/doc/doc-global.html","/document?tag=suite":"/doc/doc-suite.html","/document?tag=quartz":"/doc/doc-quartz.html","/document?tag=result":"/doc/doc-result.html","/document?tag=project":"/doc/doc-project.html","/document?tag=robot":"/doc/doc-robot.html","/document?tag=version":"/doc/doc-version.html","/document?tag=module":"/doc/doc-module.html","/contribute":"/contribute/con-re.html","/contribute?tag=con-re":"/contribute/con-re.html","/contribute?tag=con-server":"/contribute/con-server.html","/contribute?tag=con-client":"/contribute/con-client.html","/contribute?tag=con-agent":"/contribute/con-agent.html","/version":"/version-record.html","/about":"/about/policy.html","/about?tag=policy":"/about/policy.html","/sib":"/sib/re-sib.html","/sib?tag=re-sib":"/sib/re-sib.html","/sib?tag=dev-sib":"/sib/dev-sib.html","/sib?tag=sib-device":"/sib/sib-device.html","/sib?tag=sib-app":"/sib/sib-app.html","/sib?tag=sib-mount":"/sib/sib-mount.html","/sib?tag=sib-ps":"/sib/sib-ps.html","/sib?tag=sib-run":"/sib/sib-run.html","/sib?tag=sib-battery":"/sib/sib-battery.html","/sib?tag=sib-ip":"/sib/sib-ip.html","/sib?tag=sib-reboot":"/sib/sib-reboot.html","/sib?tag=sib-proxy":"/sib/sib-proxy.html","/sib?tag=sib-crash":"/sib/sib-crash.html","/sib?tag=sib-location":"/sib/sib-location.html","/sib?tag=sib-orientation":"/sib/sib-orientation.html","/sib?tag=sib-syslog":"/sib/sib-syslog.html","/sib?tag=sib-screen":"/sib/sib-screen.html","/sib?tag=sib-afc":"/sib/sib-afc.html","/sib?tag=sib-perf":"/sib/sib-perf.html","/sib?tag=sib-webinspector":"/sib/sib-webinspector.html","/sib?tag=sib-remote":"/sib/sib-remote.html","/saa":"/saa/re-saa.html","/saa?tag=re-saa":"/saa/re-saa.html","/saa?tag=dev-saa":"/saa/dev-saa.html","/sgm":"/sgm/re-sgm.html","/sgm?tag=re-sgm":"/sgm/re-sgm.html","/sgm?tag=dev-sgm":"/sgm/dev-sgm.html","/sch":"/sch/re-sch.html","/sch?tag=re-sch":"/sch/re-sch.html","/sch?tag=dev-sch":"/sch/dev-sch.html","/sch?tag=sch-upload":"/sch/sch-upload.html","/sdc":"/sdc/re-sdc.html","/sdc?tag=re-sdc":"/sdc/re-sdc.html","/sdc?tag=dev-sdc":"/sdc/dev-sdc.html","/sdc?tag=sdc-android":"/sdc/sdc-android.html","/sdc?tag=sdc-ios":"/sdc/sdc-ios.html","/sdc?tag=sdc-poco":"/sdc/sdc-poco.html","/siwa":"/siwa/re-siwa.html","/siwa?tag=re-siwa":"/siwa/re-siwa.html","/siwa?tag=dev-siwa":"/siwa/dev-siwa.html"},{pathname:s,search:c,origin:e}=location,o=s+c;Object.keys(t).indexOf(o)>-1&&(location.href=e+t[o])})();</script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5211c0b1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5211c0b1 data-v-8c0a9870><div class="VPNavBar has-sidebar" data-v-8c0a9870 data-v-1bbed88e><div class="container" data-v-1bbed88e><div class="VPNavBarTitle has-sidebar" data-v-1bbed88e data-v-d5925166><a class="title" href="/" data-v-d5925166><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://raw.githubusercontent.com/SonicCloudOrg/soniccloudorg.github.io/main/.vitepress/theme/assets/logo-full.png" alt data-v-6db2186b><!--]--><!----><!--[--><!--]--></a></div><div class="content" data-v-1bbed88e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-1bbed88e style="--5943dbe8:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1bbed88e data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> Docs <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/en/deploy/back-end-deploy.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Deploy<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/en/doc/doc-use.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Document<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/contribute/con-re.html" data-v-e8e0fb1d data-v-3c355974><!--[-->开发文档<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 周边生态 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/ide/re-ide.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Sonic IDE 🔥<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/sib/re-sib.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-ios-bridge<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/saa/re-saa.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-android-apk<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/sdc/re-sdc.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-driver-core<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/sch/re-sch.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-ci-helper-plugin<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/sgm/re-sgm.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-go-mitmproxy<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/siwa/re-siwa.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-ios-webkit-adapter<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/sas/re-sas.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-android-supply<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/supc/re-supc.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-uiautomator2-python-client<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/svc/re-svc.html" data-v-e8e0fb1d data-v-3c355974><!--[-->sonic-vision-core<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/cabinet.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->硬件方案<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/version-record.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->版本记录<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 关于 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="https://discord.gg/c9ZD6jSyTE" target="_blank" rel="noreferrer" data-v-e8e0fb1d data-v-3c355974><!--[-->User Community<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-3c355974><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="https://opencollective.com/soniccloudorg" target="_blank" rel="noreferrer" data-v-e8e0fb1d data-v-3c355974><!--[-->Open Collective<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-3c355974><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/about/policy.html" data-v-e8e0fb1d data-v-3c355974><!--[-->免责声明<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-1bbed88e data-v-db824e91 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-6ffb57d3><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><div class="items" data-v-db824e91><p class="title" data-v-db824e91></p><!--[--><div class="VPMenuLink" data-v-db824e91 data-v-e8e0fb1d><a class="VPLink link" href="/" data-v-e8e0fb1d data-v-3c355974><!--[-->简体中文<!--]--><!----></a></div><div class="VPMenuLink" data-v-db824e91 data-v-e8e0fb1d><a class="VPLink link" href="/en/" data-v-e8e0fb1d data-v-3c355974><!--[-->English<!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-1bbed88e data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1bbed88e data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/SonicCloudOrg" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://discord.gg/c9ZD6jSyTE" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1668841768944" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="834" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M341.333333 768h436.792889L853.333333 827.107556V384h42.666667a42.666667 42.666667 0 0 1 42.666667 42.666667v576L748.600889 853.333333H384a42.666667 42.666667 0 0 1-42.666667-42.666666v-42.666667zM232.732444 682.666667L42.666667 832V170.666667a42.666667 42.666667 0 0 1 42.666666-42.666667h640a42.666667 42.666667 0 0 1 42.666667 42.666667v512H232.732444z" p-id="835"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1bbed88e data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><div class="group" data-v-e4361c82><p class="trans-title" data-v-e4361c82></p><!--[--><div class="VPMenuLink" data-v-e4361c82 data-v-e8e0fb1d><a class="VPLink link" href="/" data-v-e8e0fb1d data-v-3c355974><!--[-->简体中文<!--]--><!----></a></div><div class="VPMenuLink" data-v-e4361c82 data-v-e8e0fb1d><a class="VPLink link" href="/en/" data-v-e8e0fb1d data-v-3c355974><!--[-->English<!--]--><!----></a></div><!--]--></div><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/SonicCloudOrg" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://discord.gg/c9ZD6jSyTE" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1668841768944" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="834" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M341.333333 768h436.792889L853.333333 827.107556V384h42.666667a42.666667 42.666667 0 0 1 42.666667 42.666667v576L748.600889 853.333333H384a42.666667 42.666667 0 0 1-42.666667-42.666666v-42.666667zM232.732444 682.666667L42.666667 832V170.666667a42.666667 42.666667 0 0 1 42.666666-42.666667h640a42.666667 42.666667 0 0 1 42.666667 42.666667v512H232.732444z" p-id="835"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1bbed88e data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-5211c0b1 data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-5211c0b1 data-v-a186aa16><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a186aa16><span class="visually-hidden" id="sidebar-aria-label" data-v-a186aa16> Sidebar Navigation </span><!--[--><!--[--><!--[--><h2 class="sponsors-aside-text">赞助商 SPONSORS</h2><div class="VPDocAsideSponsors"><div class="VPSponsors vp-sponsor aside"><!--[--><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid xmini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="http://qrcode.testing-studio.com/f?from=Sonic&amp;url=https://ceshiren.com/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">霍格沃兹测试开发学社</h4><img class="vp-sponsor-grid-image" src="https://ceshiren.com/uploads/default/original/3X/7/0/70299922296e93e2dcab223153a928c4bfb27df9.jpeg" alt="霍格沃兹测试开发学社"></article></a></div><!--]--></div></section><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid xmini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ec.diwork.com" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">友空间</h4><img class="vp-sponsor-grid-image" src="https://ec.diwork.com/html/index/img/newlogo.png" alt="友空间"></article></a></div><!--]--></div></section><!--]--></div></div><!--]--><!--]--><!--]--><!--[--><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Start</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/en/doc/doc-use.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Get started quickly</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-high.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Advanced Teaching</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Remote control related</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/en/doc/doc-control.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Control Panel</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-app-list.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Application List</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-webview.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>WebView/H5 Debug</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-quick-cap.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Quick screenshot</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-terminal.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Terminal</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-proxy.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Network capture</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-element.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Element capture</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-run.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Run UI tests</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-perfmon.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Performance monitoring</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-agent.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Agent center</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-device.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Device Center</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-stop-debug.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Automatic and Forced Unoccupied</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Test step related</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link active" href="/en/doc/doc-script.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Custom script</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-poco.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>POCO Element</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-to-webview.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Switch WebView</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-keyboard.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Sonic Input</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-sift.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Image recognition</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-iterator.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Iterate list of elements</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Test management related</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/en/doc/doc-element-manage.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Elements</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-cases.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Test case</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-steps.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Test step</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-pub.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Public step</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-global.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Global parameters</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-suite.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Test suite</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-quartz.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Timed task</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-result.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Test result</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Project management related</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/en/doc/doc-project.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Project management</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-robot.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Notify bot</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-version.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Version management</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-module.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Module management</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><div class="title" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Background management center & Other</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/en/doc/doc-resource.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Resource management</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-role.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>Role management</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-user.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>User management</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-sys-job.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>System timing task</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/en/doc/doc-rest.html" style="padding-left:0px;" tabindex="-1" data-v-70e2cdfb data-v-3c355974><!--[--><span class="link-text" data-v-70e2cdfb>REST API</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5211c0b1 data-v-296cfad2><div class="VPDoc has-sidebar has-aside" data-v-296cfad2 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--[--><!--[--><!--[--><!--[--><h2 class="sponsors-aside-text doc-aside-ads-top">广告 ADS</h2><div class="doc-aside-ads-wrapper"><div class="el-carousel el-carousel--horizontal" style="width:150px;"><div class="el-carousel__container" style="height:;"><!--v-if--><!--v-if--><!--[--><!--[--><div class="el-carousel__item" style="transform:translateX(0px) scale(1);display:none;"><!--v-if--><!--[--><a href="https://soniccloudorg.github.io/cabinet.html" target="_blank"><img style="height:284px;width:150px;" src="/assets/linux-ad2.0cc6fd2f.jpg"></a><!--]--></div><div class="el-carousel__item" style="transform:translateX(0px) scale(1);display:none;"><!--v-if--><!--[--><a href="http://qrcode.testing-studio.com/f?from=Sonic&amp;url=https://ceshiren.com/t/topic/23746" target="_blank"><img style="height:284px;width:150px;" src="/assets/ad1.b31aede9.jpg"></a><!--]--></div><!--]--><!--]--></div><ul class="el-carousel__indicators el-carousel__indicators--horizontal el-carousel__indicators--outside"><!--[--><!--]--></ul></div></div><a href="mailto:soniccloudorg@163.com" target="_blank" class="become-sponsor"><button class="el-button is-plain" aria-disabled="false" type="button" style="width:150px;"><!--v-if--><span class=""><!--[--> 成为赞助商！ <!--]--></span></button></a><!--]--><!--]--><!--]--><!--]--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _en_doc_doc-script" data-v-cfb513e0><div><h1 id="custom-script" tabindex="-1">custom script <a class="header-anchor" href="#custom-script" aria-hidden="true">#</a></h1><p>Use custom scripts to perform UI automation. (This function needs to be upgraded to Sonic v2.0.0 version)</p><h2 id="_1-groovy-java-script-recommended-🔥" tabindex="-1">1. Groovy (Java) script (recommended 🔥) <a class="header-anchor" href="#_1-groovy-java-script-recommended-🔥" aria-hidden="true">#</a></h2><h3 id="ability-introduction" tabindex="-1">Ability Introduction <a class="header-anchor" href="#ability-introduction" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">Sonic official recommendation reason</p><ol><li>You can directly use all built-in functions and variables of Agent.</li><li>The Groovy engine is compatible with the Java language and can be well combined with Java. It can directly run Java code or mix Groovy and Java.</li><li>Groovy has a simple syntax, is easy to expand, and has a low learning threshold.</li><li>Run directly on the JVM, no need to configure additional environment.</li><li>Wait...</li></ol></div><h4 id="default-built-in-content" tabindex="-1">Default built-in content <a class="header-anchor" href="#default-built-in-content" aria-hidden="true">#</a></h4><p>Before executing custom scripts, the basic StepHandler is passed to the Groovy engine.</p><p>including but not limited to:</p><ol><li>The log object, which can manipulate the output text of the test report</li><li>androidDriver, can operate UIAutomator2-Server</li><li>iosDriver, can operate Wda</li><li>Global parameters, you can access the global parameters</li><li>Sonic&#39;s custom steps can be reused directly</li><li>Others, including PocoDriver, device information, etc.</li></ol><div class="tip custom-block"><p class="custom-block-title">More built-in methods can be viewed</p><p><a href="https://github.com/SonicCloudOrg/sonic-agent/blob/main/src/main/java/org/cloud/sonic/agent/tests/handlers/AndroidStepHandler.java" target="_blank" rel="noreferrer">AndroidStepHandler</a></p><p><a href="https://github.com/SonicCloudOrg/sonic-agent/blob/main/src/main/java/org/cloud/sonic/agent/tests/handlers/IOSSstepHandler.java" target="_blank" rel="noreferrer">IOSSstepHandler</a></p></div><h4 id="extendability" tabindex="-1">Extendability <a class="header-anchor" href="#extendability" aria-hidden="true">#</a></h4><p>Capabilities other than StepHandler can be implemented by directly importing the corresponding package or directly referencing it.</p><p>including but not limited to:</p><ol><li>RestTemaplate, which can perform Rest Api operations.</li><li>Java&#39;s built-in Process can run local instructions.</li><li>SibTool, a tool class for using sib.</li><li>AndroidDeviceBridgeTool, which is used to operate some tool classes of adb.</li><li>fastJson and other packages and so on.</li></ol><h3 id="output-log-to-test-report" tabindex="-1">Output log to test report <a class="header-anchor" href="#output-log-to-test-report" aria-hidden="true">#</a></h3><p>Manipulate <strong>androidStepHandler.log</strong> directly using</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I am a general log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Step detailed log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I passed the log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Step detailed log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I am an alarm log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Step detailed log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I am an exception log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Step detailed log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p>The input parameters are: <strong>log level</strong>, <strong>step description</strong>, <strong>step detailed log</strong></p><p>There are four log levels, from 1-4: INFO, PASS, WARN, ERROR</p><p>It is also possible to extract LogUtil and StepType usage to make scripts more readable</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">tests</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LogUtil</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">interfaces</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">test</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">LogUtil</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">   log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">   log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">PASS</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">   log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">WARN</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">   log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ERROR</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><h3 id="reference-global-parameters" tabindex="-1">Reference global parameters <a class="header-anchor" href="#reference-global-parameters" aria-hidden="true">#</a></h3><p>Global parameters are stored in androidStepHandler.globalParams by default, which is a com.alibaba.fastjson.JSONObject object. can be used directly</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">globalParams</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getString</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get the global parameter Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Value: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> test</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For more global parameters and temporary parameters, please refer to <a href="https://sonic-cloud.wiki/d/2369" target="_blank" rel="noreferrer">this post</a></p></div><h3 id="get-device-serial-number" tabindex="-1">Get device serial number <a class="header-anchor" href="#get-device-serial-number" aria-hidden="true">#</a></h3><p>Android:</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> udId </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getSerialNumber</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get udId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Value: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> udId</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p>iOS:</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> udId </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> iosStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">udId</span></span>
<span class="line"><span style="color:#A6ACCD;">iosStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get udId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Value: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> udId</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="assertions" tabindex="-1">Assertions <a class="header-anchor" href="#assertions" aria-hidden="true">#</a></h3><p>There are assertEquals, assertNotEquals, assertNull, assertNotNull and other methods that can be used directly</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">testng</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Assert</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">*;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">assertEquals</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1+1</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>Assertion failures throw exceptions and custom script steps are marked as failed</p><h3 id="exit-driver" tabindex="-1">Exit Driver <a class="header-anchor" href="#exit-driver" aria-hidden="true">#</a></h3><p>If there is an instrument-based framework (such as fastbot, uiautomator2-python, poco-service, etc.) in your third-party tools, it will conflict with Sonic&#39;s existing processes and cause a blocking state. At this time, we can stop Sonic&#39;s Driver first.</p><h4 id="android" tabindex="-1">Android: <a class="header-anchor" href="#android" aria-hidden="true">#</a></h4><p>There are two ways to close AndroidDriver:</p><ol><li>Close with built-in function (recommended)</li></ol><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bridge</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Stop Driver</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getAndroidDriver</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">closeDriver</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Third party operation</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//xxxxxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Restart Driver</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> port </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startUiaServer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startAndroidDriver</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> port</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>Use adb to forcibly stop the instrument service (not recommended)</li></ol><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bridge</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Stop UIAutomator2-server</span></span>
<span class="line"><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">executeCommand</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">am force-stop io.appium.uiautomator2.server</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">executeCommand</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">am force-stop io.appium.uiautomator2.server.test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Third party operation</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//xxxxxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Restart Driver</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> port </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startUiaServer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startAndroidDriver</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> port</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h4 id="ios" tabindex="-1">iOS: <a class="header-anchor" href="#ios" aria-hidden="true">#</a></h4><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bridge</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ios</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">SibTool</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Stop Driver</span></span>
<span class="line"><span style="color:#A6ACCD;">iosStepHandler. closeIOSDriver</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Third party operation</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//xxxxxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//Restart Driver</span></span>
<span class="line"><span style="color:#A6ACCD;">iosStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startIOSDriver</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">udId</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">SibTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startWda</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">udId</span><span style="color:#89DDFF;">)[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="sample-script-display" tabindex="-1">Sample script display <a class="header-anchor" href="#sample-script-display" aria-hidden="true">#</a></h3><h4 id="call-third-party-rest-api" tabindex="-1">Call third-party Rest API <a class="header-anchor" href="#call-third-party-rest-api" aria-hidden="true">#</a></h4><p>The following is an example of asserting the response result and outputting it to the test report after using the RestTemplate to call the third-party Rest API.</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">alibaba</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">fastjson</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">JSONObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">http</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">HttpEntity</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">http</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">HttpHeaders</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">http</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">HttpMethod</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">SpringTool</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">web</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RestTemplate</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">tests</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LogUtil</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">interfaces</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">testng</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Assert</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">*;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">testRestApi</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">LogUtil</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">RestTemplate</span><span style="color:#A6ACCD;"> restTemplate </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">SpringTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getBean</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">RestTemplate</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">HttpHeaders</span><span style="color:#A6ACCD;"> headers </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">HttpHeaders</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">       headers</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">add</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">SonicToken</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">JSONObject</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> restTemplate</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exchange</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://localhost:8094/api/controller/projects/list</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">HttpMethod</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">GET</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">HttpEntity&lt;&gt;</span><span style="color:#A6ACCD;">(headers)</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">JSONObject</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">).</span><span style="color:#A6ACCD;">getBody</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#82AAFF;">assertEquals</span><span style="color:#A6ACCD;">(result. getInteger</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">code</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">       log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rest api assert</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">result: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toJSONString</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">testRestApi</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><h4 id="adb-shell-operation" tabindex="-1">adb shell operation <a class="header-anchor" href="#adb-shell-operation" aria-hidden="true">#</a></h4><p>The following is an example of the output of the adb shell command, including one-time output and continuous output.</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bridge</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">tests</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LogUtil</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">interfaces</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ddmlib</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">IShellOutputReceiver</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TimeUnit</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">test</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">LogUtil</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> out </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">executeCommand</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">wm size</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">         log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get screen size</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">testLong</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">LogUtil</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">         androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">executeShellCommand</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dumpsys window displays</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                         </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">IShellOutputReceiver</span><span style="color:#A6ACCD;">() {</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">@Override</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">addOutput</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">byte</span><span style="color:#A6ACCD;">[] </span><span style="color:#A6ACCD;font-style:italic;">bytes</span><span style="color:#A6ACCD;">, </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">i</span><span style="color:#A6ACCD;">, </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">i1</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;">(bytes, i, i1);</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Dump windows msg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                             }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">@Override</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">flush</span><span style="color:#A6ACCD;">() {</span></span>
<span class="line"><span style="color:#A6ACCD;">                             }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">@Override</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">isCancelled</span><span style="color:#A6ACCD;">() {</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">                             }</span></span>
<span class="line"><span style="color:#A6ACCD;">                         }</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">TimeUnit</span><span style="color:#A6ACCD;">. MILLISECONDS</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">testLong</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><h4 id="execute-fastbot" tabindex="-1">Execute fastbot <a class="header-anchor" href="#execute-fastbot" aria-hidden="true">#</a></h4><p>The following shows how to execute fastbot and continuously output the log to the test report. Note: Make sure that there are fastbot-related jars on the device before execution. For details, please refer to the fastbot documentation.</p><p>Because the bottom layer of fastbot has a conflict with the instrumentation of uia2 (although Sonic will deal with it later, it is best to avoid conflicts), so execute closeDriver() first, and then startDriver() again after running</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bridge</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">tests</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LogUtil</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">interfaces</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ddmlib</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">IShellOutputReceiver</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TimeUnit</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">testFastbot</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">LogUtil</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">         androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getAndroidDriver</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">closeDriver</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">         androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">executeShellCommand</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CLASSPATH=/sdcard/monkeyq.jar:/sdcard/framework.jar:/sdcard/fastbot-thirdpart.jar exec app_process /system/bin com.android.commands.monkey.Monkey -p package_name - -agent reuseq --running-minutes duration(min) --throttle delay(ms) -v -v</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                         </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">IShellOutputReceiver</span><span style="color:#A6ACCD;">() {</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">@Override</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">addOutput</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">byte</span><span style="color:#A6ACCD;">[] </span><span style="color:#A6ACCD;font-style:italic;">bytes</span><span style="color:#A6ACCD;">, </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">i</span><span style="color:#A6ACCD;">, </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">i1</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;">(bytes, i, i1);</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">FastBot log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                             }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">@Override</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">flush</span><span style="color:#A6ACCD;">() {</span></span>
<span class="line"><span style="color:#A6ACCD;">                             }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">@Override</span></span>
<span class="line"><span style="color:#A6ACCD;">                             </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">isCancelled</span><span style="color:#A6ACCD;">() {</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">                             }</span></span>
<span class="line"><span style="color:#A6ACCD;">                         }</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">TimeUnit</span><span style="color:#A6ACCD;">. MILLISECONDS</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> port </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">AndroidDeviceBridgeTool</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startUiaServer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">         androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startAndroidDriver</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iDevice</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> port</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">testFastbot</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><h4 id="run-the-local-command-command" tabindex="-1">Run the local command command <a class="header-anchor" href="#run-the-local-command-command" aria-hidden="true">#</a></h4><p>The following is an example of running the Agent&#39;s local PC command and continuously outputting the command result to the test report after running the command.</p><div class="language-groovy"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">tests</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LogUtil</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">sonic</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">agent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">interfaces</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">io</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">IOException</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">io</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">InputStreamReader</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">io</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">BufferedReader</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">testCmd</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> system </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">os.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#A6ACCD;">toLowerCase</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (system. contains</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">win</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                 </span><span style="color:#C792EA;">Runtime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getRuntime</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">exec</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cmd /c calc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             } </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">                 </span><span style="color:#C792EA;">Runtime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getRuntime</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">exec</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sh -c echo Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">testCmdForLongTime</span><span style="color:#A6ACCD;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">LogUtil</span><span style="color:#A6ACCD;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> androidStepHandler</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">Process</span><span style="color:#A6ACCD;"> ps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> system </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">os.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#A6ACCD;">toLowerCase</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (system. contains</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">win</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                 ps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Runtime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getRuntime</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">exec</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cmd /c calc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             } </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">                 ps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Runtime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getRuntime</span><span style="color:#89DDFF;">().</span><span style="color:#A6ACCD;">exec</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sh -c echo Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             }</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">InputStreamReader</span><span style="color:#A6ACCD;"> inputStreamReader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">InputStreamReader</span><span style="color:#A6ACCD;">(ps. getInputStream</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">BufferedReader</span><span style="color:#A6ACCD;"> stdInput </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BufferedReader</span><span style="color:#A6ACCD;">(inputStreamReader);</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> s;</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#A6ACCD;"> (ps. isAlive</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                 </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">                     </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> ((s </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> stdInput. readLine</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                         log</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sendStepLog</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">StepType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ps msg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                     }</span></span>
<span class="line"><span style="color:#A6ACCD;">                 } </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">IOException</span><span style="color:#A6ACCD;"> e) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                     e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">printStackTrace</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">                 }</span></span>
<span class="line"><span style="color:#A6ACCD;">             }</span></span>
<span class="line"><span style="color:#A6ACCD;">             stdInput. close</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">             inputStreamReader. close</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">testCmd</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">testCmdForLongTime</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">More reference examples</p><p>If you want to refer to more script examples, you can go to <a href="https://sonic-cloud.wiki/t/script" target="_blank">here</a> to view official or user-shared examples!</p></div><h2 id="_2-python-script" tabindex="-1">2. Python script <a class="header-anchor" href="#_2-python-script" aria-hidden="true">#</a></h2><h3 id="ability-introduction-1" tabindex="-1">Ability Introduction <a class="header-anchor" href="#ability-introduction-1" aria-hidden="true">#</a></h3><div class="info custom-block"><p class="custom-block-title">vs Groovy script</p><p>Python cannot be used as the built-in engine of the Agent, so the built-in methods and packages of the Agent cannot be used. Python scripts can only use some of the parameters passed by the Agent, and dependencies need to be installed locally, which greatly reduces flexibility compared with Groovy scripts.</p></div><h3 id="pre-environment" tabindex="-1">Pre-environment <a class="header-anchor" href="#pre-environment" aria-hidden="true">#</a></h3><p>Python environment, pip environment.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Note! If Agent running on Windows system, make sure to set the Python output charset to UTF-8 to avoid garbled output from scripts. Execute</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PYTHONIOENCODING=UTF-</span><span style="color:#F78C6C;">8</span></span>
<span class="line"></span></code></pre></div><p>to set an environment variable for the Python before starting the Agent.</p></div><h3 id="available-parameters" tabindex="-1">Available parameters <a class="header-anchor" href="#available-parameters" aria-hidden="true">#</a></h3><p>Regardless of Android or iOS, Sonic will pass four parameters to the Python script, arg depends on times are:</p><ol><li>sessionId. Android is the sessionId of uia2, and iOS is the sessionId of wda.</li><li>Device udId.</li><li>Global parameter Json string.</li><li>Remote URL address (available after v2.5.3 update)</li></ol><h3 id="exit-driver-1" tabindex="-1">Exit Driver <a class="header-anchor" href="#exit-driver-1" aria-hidden="true">#</a></h3><p>If there is an instrument-based framework (such as fastbot, uiautomator2-python, poco-service, etc.) in your third-party tools, it will conflict with Sonic&#39;s existing processes and cause a blocking state. At this time, we can stop Sonic&#39;s Driver first.</p><p>####Android:</p><p>Use adb to force stop the instrument service</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"><span style="color:#A6ACCD;">udId </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">argv</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:][</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">adb -s </span><span style="color:#F78C6C;">{udId}</span><span style="color:#C3E88D;"> shell am force-stop io.appium.uiautomator2.server</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">udId</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">adb -s </span><span style="color:#F78C6C;">{udId}</span><span style="color:#C3E88D;"> am force-stop io.appium.uiautomator2.server.test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">udId</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre></div><h3 id="sample-script-display-1" tabindex="-1">Sample script display <a class="header-anchor" href="#sample-script-display-1" aria-hidden="true">#</a></h3><h4 id="test-directly-with-sonic-s-already-started-appium-uiautomator2-server" tabindex="-1">Test directly with Sonic&#39;s already started appium uiautomator2 server <a class="header-anchor" href="#test-directly-with-sonic-s-already-started-appium-uiautomator2-server" aria-hidden="true">#</a></h4><p>The following is an example script for testing directly with Sonic&#39;s already started appium uiautomator2 server.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">pip install -U sonic-uia2-client</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> sys</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> common</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">models </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> AndroidSelector</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> uia2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> AndroidDriver</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_demo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">adb_serial_num</span><span style="color:#89DDFF;">:</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">uia_url</span><span style="color:#89DDFF;">:</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    package_name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.android.settings</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># Launch App</span></span>
<span class="line"><span style="color:#A6ACCD;">    os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;adb -s </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">adb_serial_num</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> shell monkey -p </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">package_name</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> -c android.intent.category.LAUNCHER 1&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># Connect to uia2 server</span></span>
<span class="line"><span style="color:#A6ACCD;">    driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">AndroidDriver</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">uia_url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_page_source</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">p</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    e </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">AndroidSelector</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">XPATH</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">//*[@text=&#39;设置&#39;]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> e </span><span style="color:#89DDFF;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">None:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">e</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_text</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">        e</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send_keys</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># uia_url available after v2.5.3 update</span></span>
<span class="line"><span style="color:#A6ACCD;">    session_id</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> adb_serial_num</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> global_pramas</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> uia_url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">argv</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">session_id</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> adb_serial_num</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> global_pramas</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> uia_url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">test_demo</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">adb_serial_num</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> uia_url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">More reference examples</p><p>If you want to refer to more script examples, you can go to <a href="https://sonic-cloud.wiki/t/script" target="_blank">here</a> to view official or user-shared examples!</p></div><h2 id="import-template" tabindex="-1">Import template <a class="header-anchor" href="#import-template" aria-hidden="true">#</a></h2><p>The script templates managed on the [Script Template] page can be imported and used during editing. There are two import modes:</p><ol><li>Append, append the template to the current editing script</li><li>Replace, replace the current editing script with the template</li></ol><h2 id="usage-specifications-and-suggestions" tabindex="-1">Usage Specifications and Suggestions <a class="header-anchor" href="#usage-specifications-and-suggestions" aria-hidden="true">#</a></h2><p>In order to reduce maintenance costs during use, the Sonic organization recommends script management as follows:</p><ol><li>Save common methods/functions to 【Script Module Management】.</li><li>When using the script, use the import module to append the method/function to the current script and reference it.</li><li>It is recommended to extract and maintain repeatedly referenced parameters and methods.</li></ol></div></div></main><!--[--><!--[--><!--[--><div class="contributor-list" data-v-8b477d7b><h2 class="contributor-list__title" data-v-8b477d7b>本文贡献者</h2><!--[--><a class="contributor wrapper" href="https://github.com/ZhouYixun" target="_blank" data-v-8b477d7b data-v-fb0e8fad><!----></a><a class="contributor wrapper" href="https://github.com/mmagi" target="_blank" data-v-8b477d7b data-v-fb0e8fad><!----></a><!--]--></div><!--]--><!--]--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-21f75714><div class="edit-info" data-v-21f75714><div class="edit-link" data-v-21f75714><a class="VPLink link edit-link-button" href="https://github.com/SonicCloudOrg/sonic-offical-website/edit/main/src/en/doc/doc-script.md" target="_blank" rel="noreferrer" data-v-21f75714 data-v-3c355974><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-21f75714><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><div class="last-updated" data-v-21f75714><p class="VPLastUpdated" data-v-21f75714 data-v-18fe8fc2>Last Update time: <time datetime="2023-06-09T09:26:37.000Z" data-v-18fe8fc2></time></p></div></div><div class="prev-next" data-v-21f75714><div class="pager" data-v-21f75714><a class="pager-link prev" href="/en/doc/doc-stop-debug.html" data-v-21f75714><span class="desc" data-v-21f75714>Previous page</span><span class="title" data-v-21f75714>Automatic and Forced Unoccupied</span></a></div><div class="has-prev pager" data-v-21f75714><a class="pager-link next" href="/en/doc/doc-poco.html" data-v-21f75714><span class="desc" data-v-21f75714>Next page</span><span class="title" data-v-21f75714>POCO Element</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-5211c0b1 data-v-9f24cc86><div class="container" data-v-9f24cc86><!----><p class="copyright" data-v-9f24cc86>Copyright © All Rights Reserved Sonic Project for SonicCloudOrg</p></div></footer><!--[--><div class="question-float" data-v-fbcea7d8><!----></div><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"doc_doc-module.md\":\"a7ff3082\",\"doc_doc-keyboard.md\":\"0e95ef26\",\"deploy_agent-deploy.md\":\"872637a7\",\"deploy_android-deploy.md\":\"ac59eb6c\",\"deploy_back-end-deploy.md\":\"355e8162\",\"deploy_ios-deploy.md\":\"408285be\",\"doc_doc-app-list.md\":\"e3d58a3d\",\"doc_doc-agent.md\":\"3b6d9602\",\"doc_doc-cases.md\":\"d344192d\",\"doc_doc-device.md\":\"4cdcb3ee\",\"contribute_con-agent.md\":\"a11650d7\",\"doc_doc-iterator.md\":\"8b3986e3\",\"doc_doc-quartz.md\":\"a8c24d9f\",\"doc_doc-robot.md\":\"2f344adc\",\"doc_doc-perfmon.md\":\"edf22a99\",\"doc_doc-project.md\":\"d18e0fb0\",\"doc_doc-pub.md\":\"0de60411\",\"doc_doc-result.md\":\"3a021cc6\",\"doc_doc-poco.md\":\"f62f3ebb\",\"doc_doc-resource.md\":\"b9100f09\",\"about_policy.md\":\"47ae04da\",\"doc_doc-rest.md\":\"aefb5ae1\",\"contribute_con-server.md\":\"1bb1de49\",\"doc_doc-role.md\":\"a75edae1\",\"doc_doc-quick-cap.md\":\"a08edef3\",\"doc_doc-proxy.md\":\"efe2ec6b\",\"contribute_con-client.md\":\"19db805e\",\"contribute_con-re.md\":\"cf3fb7af\",\"deploy_upgrade-deploy.md\":\"4e7557cd\",\"cabinet.md\":\"a203a1b4\",\"doc_doc-run.md\":\"11ce85ef\",\"doc_doc-element-manage.md\":\"b6826605\",\"en_index.md\":\"f2a9f806\",\"en_version-record.md\":\"a0e7be71\",\"ide_re-ide.md\":\"1ea3c8e1\",\"index.md\":\"c645d5ca\",\"saa_dev-saa.md\":\"65f5b978\",\"saa_re-saa.md\":\"6dd48482\",\"saa_saa-app.md\":\"a9538072\",\"saa_saa-audio.md\":\"92179a01\",\"saa_saa-clipper.md\":\"e05361a1\",\"saa_saa-keyboard.md\":\"67192293\",\"saa_saa-orientation.md\":\"c542d1db\",\"saa_saa-search.md\":\"a3a24ba9\",\"saa_saa-touch.md\":\"4b98feb0\",\"saa_saa-wifi.md\":\"f45a6e46\",\"sas_dev-sas.md\":\"5b374c4b\",\"sas_re-sas.md\":\"e918787d\",\"sch_dev-sch.md\":\"cf743ff0\",\"sch_re-sch.md\":\"659bf988\",\"doc_doc-global.md\":\"ca7faac4\",\"sch_sch-upload.md\":\"6f94653e\",\"sdc_dev-sdc.md\":\"46c99bcd\",\"en_doc_doc-element-manage.md\":\"ada55544\",\"sdc_re-sdc.md\":\"0a07bfa7\",\"sas_sas-perf.md\":\"1076430b\",\"sas_sas-share.md\":\"ee3d8b1c\",\"sdc_sdc-ios.md\":\"95ad3c3c\",\"sdc_sdc-poco.md\":\"195347dd\",\"sgm_dev-sgm.md\":\"2ca6e9be\",\"sdc_sdc-android.md\":\"3c9a16a3\",\"sgm_re-sgm.md\":\"73dc7f4d\",\"sib_dev-sib.md\":\"8c7ba421\",\"sib_re-sib.md\":\"fc5cc66a\",\"sib_sib-app.md\":\"300b400f\",\"sib_sib-afc.md\":\"7ef55774\",\"sib_sib-battery.md\":\"22fcd692\",\"sib_sib-ip.md\":\"80b5884c\",\"sib_sib-location.md\":\"64e164a3\",\"sib_sib-mount.md\":\"9084e47e\",\"sib_sib-orientation.md\":\"108aeff1\",\"sib_sib-perf.md\":\"799ca81a\",\"sib_sib-proxy.md\":\"dbc55820\",\"sib_sib-ps.md\":\"7301a88a\",\"sib_sib-reboot.md\":\"aef52352\",\"sib_sib-crash.md\":\"41121eee\",\"sib_sib-device.md\":\"fdf060e6\",\"sib_sib-remote.md\":\"10c766ea\",\"sib_sib-run.md\":\"055940a9\",\"sib_sib-syslog.md\":\"8779fa06\",\"sib_sib-screen.md\":\"ecebd5f0\",\"siwa_dev-siwa.md\":\"598e1b4d\",\"siwa_re-siwa.md\":\"2142b704\",\"supc_dev-supc.md\":\"a09a59a0\",\"supc_re-supc.md\":\"d41eef06\",\"en_doc_doc-version.md\":\"88dc0168\",\"svc_dev-svc.md\":\"92c13e9b\",\"sib_sib-webinspector.md\":\"0989455b\",\"svc_re-svc.md\":\"d0ccdf9c\",\"version-record.md\":\"3f92f35a\",\"doc_doc-user.md\":\"007f4438\",\"en_doc_doc-cases.md\":\"f474152a\",\"en_doc_doc-robot.md\":\"4ad5c1b6\",\"en_doc_doc-run.md\":\"cc292788\",\"ide_ide-demo.md\":\"b3a0d308\",\"en_doc_doc-script.md\":\"1e8a1dfe\",\"en_doc_doc-sift.md\":\"e32eaeaf\",\"en_doc_doc-steps.md\":\"4d4d0b41\",\"en_doc_doc-stop-debug.md\":\"202cf809\",\"en_doc_doc-suite.md\":\"88fa254e\",\"en_doc_doc-sys-job.md\":\"72511242\",\"en_doc_doc-webview.md\":\"2679c6db\",\"en_doc_doc-use.md\":\"d1cd101b\",\"en_doc_doc-terminal.md\":\"dd015942\",\"en_doc_doc-to-webview.md\":\"f83aad26\",\"doc_doc-high.md\":\"2deb0b1a\",\"doc_doc-script.md\":\"4e75b988\",\"en_doc_doc-user.md\":\"67f66875\",\"doc_doc-sift.md\":\"6778ca92\",\"doc_doc-element.md\":\"eadc4f73\",\"doc_doc-steps.md\":\"fe406372\",\"doc_doc-stop-debug.md\":\"6f6fe4a2\",\"doc_doc-suite.md\":\"c2bd6a78\",\"doc_doc-sys-job.md\":\"96299056\",\"doc_doc-terminal.md\":\"35a78483\",\"doc_doc-control.md\":\"9130e072\",\"doc_doc-to-webview.md\":\"7bfbac55\",\"doc_doc-use.md\":\"13e77f36\",\"en_doc_doc-global.md\":\"72cf5fa6\",\"doc_doc-version.md\":\"af11fce6\",\"doc_doc-webview.md\":\"6d015c4e\",\"en_deploy_agent-deploy.md\":\"8a840f30\",\"en_deploy_android-deploy.md\":\"a7a12bae\",\"en_deploy_back-end-deploy.md\":\"c49dc6c0\",\"en_deploy_ios-deploy.md\":\"0824295e\",\"en_deploy_upgrade-deploy.md\":\"d5a37abf\",\"en_doc_doc-agent.md\":\"dcc3a925\",\"en_doc_doc-control.md\":\"0cbee69b\",\"en_doc_doc-device.md\":\"25202535\",\"en_doc_doc-app-list.md\":\"3842923e\",\"en_doc_doc-element.md\":\"18cb5bdd\",\"en_doc_doc-role.md\":\"0659d2a6\",\"en_doc_doc-project.md\":\"e5b89a6f\",\"en_doc_doc-high.md\":\"63a30f39\",\"en_doc_doc-iterator.md\":\"78015d10\",\"en_doc_doc-keyboard.md\":\"166422d9\",\"en_doc_doc-module.md\":\"07ca755c\",\"en_doc_doc-perfmon.md\":\"35a98cfb\",\"en_doc_doc-poco.md\":\"ecd47d55\",\"en_doc_doc-quick-cap.md\":\"6c397bc5\",\"en_doc_doc-proxy.md\":\"babd1576\",\"en_doc_doc-pub.md\":\"1823eef3\",\"en_doc_doc-quartz.md\":\"764d35e5\",\"en_doc_doc-rest.md\":\"1643ac32\",\"en_doc_doc-resource.md\":\"8b878c52\",\"en_doc_doc-result.md\":\"2680d4fd\"}")</script>
    <script type="module" async src="/assets/app.d9b4a184.js"></script>
    
  </body>
</html>